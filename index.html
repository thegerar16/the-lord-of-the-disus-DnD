<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lord of The Disus - Ficha Oficial</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <div id="seccion-identidad" class="section">
        <h2>Identidad del H√©roe</h2>
        <div class="form-group">
            <input type="text" id="nombre" placeholder="Nombre del personaje">
            <select id="region" onchange="actualizarRazas()">
                <option value="">-- Selecciona Regi√≥n --</option>
                <option value="Lerindel">Lerindel</option>
                <option value="Thaloria">Thaloria</option>
                <option value="Lordenbell">Lordenbell</option>
                <option value="Arvandor">Arvandor</option>
                <option value="Glatius">Glatius</option>
                <option value="Draventhia">Draventhia</option>
                <option value="Vareth-Nor">Vareth-Nor</option>
                <option value="Idmael">Idmael</option>
                <option value="Fjorheim">Fjorheim</option>
                <option value="Nivalis">Nivalis</option>
            </select>
            <select id="raza" disabled onchange="actualizarSubclases()">
                <option value="">-- Selecciona Raza --</option>
            </select>
            <select id="subclase" disabled>
                <option value="">-- Selecciona Subclase --</option>
            </select>
        </div>
        <button class="btn-primary" onclick="crearPersonaje()">Siguiente: Atributos</button>
    </div>

    <div id="seccion-atributos" class="section hidden">
        <h2>Atributos Base</h2>
        <div class="grid-stats">
            <div class="stat-box">
                <label>FUE</label>
                <input type="number" id="dado-fuerza" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-fuerza">0</span></div>
                <div class="final-mod" id="final-fuerza">+0</div>
            </div>
            <div class="stat-box">
                <label>DES</label>
                <input type="number" id="dado-destreza" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-destreza">0</span></div>
                <div class="final-mod" id="final-destreza">+0</div>
            </div>
            <div class="stat-box">
                <label>CON</label>
                <input type="number" id="dado-constitucion" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-constitucion">0</span></div>
                <div class="final-mod" id="final-constitucion">+0</div>
            </div>
            <div class="stat-box">
                <label>INT</label>
                <input type="number" id="dado-inteligencia" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-inteligencia">0</span></div>
                <div class="final-mod" id="final-inteligencia">+0</div>
            </div>
            <div class="stat-box">
                <label>SAB</label>
                <input type="number" id="dado-sabiduria" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-sabiduria">0</span></div>
                <div class="final-mod" id="final-sabiduria">+0</div>
            </div>
            <div class="stat-box">
                <label>CAR</label>
                <input type="number" id="dado-carisma" value="10" onchange="calcularReglasDnD()">
                <div class="bonus-tag">Regi√≥n: <span id="bonus-carisma">0</span></div>
                <div class="final-mod" id="final-carisma">+0</div>
            </div>
        </div>
        <button class="btn-primary" onclick="irASkills()">Siguiente: Habilidades (Skills)</button>
    </div>

    <div id="seccion-skills" class="section hidden">
        <h2>Habilidades Iniciales</h2>
        <p>Puntos para repartir: <strong id="puntos-disponibles">15</strong></p>
        <div id="lista-skills-reparto" class="grid-skills-reparto"></div>
        <button class="btn-primary" onclick="irAHechizos()">Siguiente: Hechizos</button>
    </div>

    <div id="seccion-hechizos" class="section hidden">
        <h2>Selecci√≥n de Hechizos (Nivel 1)</h2>
        <p>Selecciona tus 2 hechizos de inicio para nivel 1.</p>
        <div id="contenedor-seleccion-hechizos" class="grid-hechizos"></div>
        <button class="btn-primary" onclick="mostrarTablero()">¬°GENERAR DASHBOARD!</button>
    </div>

    <div id="seccion-tablero" class="hidden">
        <div class="sidebar">
            <div class="perfil">
                <div class="avatar-container">
                    <img id="img-avatar" src="https://via.placeholder.com/150" alt="Avatar">
                </div>
                <input type="file" id="upload-avatar" onchange="cargarAvatar(this)" style="font-size: 10px; margin-top: 10px;">
                <h3 id="dash-nombre">Nombre</h3>
                <p id="dash-raza-clase">Raza | Subclase</p>
            </div>

            <div class="progreso">
                <div class="nivel-header">
                    <span>Nivel <strong id="dash-nivel">1</strong></span>
                    <span id="dash-rango" class="rango-tag">ANTIFONO</span>
                </div>
                <div class="hp-bar-container exp">
                    <div id="barra-exp" class="progress-bar"></div>
                </div>
                <small id="dash-exp">0 / 100 XP</small>
                <div class="exp-controls">
                    <input type="number" id="input-exp-ganada" placeholder="+XP">
                    <button onclick="sumarExp()">Subir XP</button>
                </div>
            </div>

            <div id="panel-atributos-mini" class="stats-mini"></div>
        </div>

        <div class="main-content">
            <div class="stats-principales-container">
                <div class="stat-circle">
                    <small>INICIATIVA</small>
                    <div id="dash-iniciativa" class="val">+0</div>
                </div>
                <div class="stat-circle highlight">
                    <small>CLASE ARMADURA</small>
                    <div id="dash-ca" class="val">10</div>
                </div>
                <div class="stat-circle">
                    <small>VELOCIDAD</small>
                    <div id="dash-vel" class="val">9m</div>
                </div>
            </div>

            <div class="card vida-card">
                <div class="header-vida">
                    <strong>PUNTOS DE VIDA</strong>
                    <span><span id="dash-hp-actual">10</span> / <span id="dash-hp-max">10</span></span>
                </div>
                <div class="hp-bar-container hp">
                    <div id="barra-vida" class="progress-bar"></div>
                </div>
                <div class="controles-dm">
                    <input type="number" id="input-modificar-vida" placeholder="Cant.">
                    <button onclick="modificarVidaDM('restar')" class="btn-dmg">DA√ëO</button>
                    <button onclick="modificarVidaDM('sumar')" class="btn-heal">CURAR</button>
                </div>
            </div>

            <div class="tab-nav">
                <button class="tab-v2 active" onclick="cambiarTab('combate')">COMBATE</button>
                <button class="tab-v2" onclick="cambiarTab('skills')">HABILIDADES</button>
                <button class="tab-v2" onclick="cambiarTab('magia')">MAGIA</button>
                <button class="tab-v2" onclick="cambiarTab('inventario')">ORO/INV</button>
            </div>

            <div id="tab-combate" class="tab-content">
                <h3>Armamento Subclase</h3>
                <div id="lista-armas" class="weapon-grid"></div>
            </div>

            <div id="tab-skills" class="tab-content hidden">
                <h3>Habilidades <span id="badge-puntos-skill" class="badge"></span></h3>
                <div id="dash-lista-skills" class="skills-grid-final"></div>
            </div>

            <div id="tab-magia" class="tab-content hidden">
                <div class="spell-slots-header">
                    Slots de Hechizo: <span id="dash-slots-usados">0</span> / <span id="dash-slots-totales">2</span>
                </div>
                <h3>Libro de Hechizos</h3>
                <div id="dash-lista-hechizos"></div>
                
                <div id="contenedor-aprendizaje" class="learn-spells-section">
                    <hr>
                    <h3>‚ú® Hechizos Disponibles para Aprender</h3>
                    <p class="hint">Tienes slots libres. Selecciona un nuevo hechizo:</p>
                    <div id="lista-hechizos-disponibles" class="grid-hechizos-mini"></div>
                </div>
            </div>

            <div id="tab-inventario" class="tab-content hidden">
                <div class="oro-card">
                    <h4>Bolsa de Oro</h4>
                    <div class="oro-display">ü™ô <span id="dash-oro">0</span></div>
                    <div class="oro-controls">
                        <input type="number" id="input-oro-mod" placeholder="Cant.">
                        <button onclick="modificarOro('sumar')" class="btn-heal">A√±adir</button>
                        <button onclick="modificarOro('restar')" class="btn-dmg">Gastar</button>
                    </div>
                </div>
                <div class="inv-controls">
                    <input type="text" id="input-item-nombre" placeholder="Nuevo objeto...">
                    <button onclick="agregarAlInventario()">Guardar</button>
                </div>
                <div id="lista-inventario-libre"></div>
            </div>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>